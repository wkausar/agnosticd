---

# Implement your Workload removal tasks here
- name: remove projects loop
  include_tasks: remove_workload_per_project.yml
  loop: "{{ range(user_count_start|int, user_count_end|int)|list }}"
  loop_control:
    loop_var: user_num

- name: remove Kogito per cluster
  include_tasks: remove_workload_per_cluster_kogito.yml

- name: remove Infinispan per cluster
  include_tasks: remove_workload_per_cluster_infinispan.yml

- name: remove Strimzi per cluster
  include_tasks: remove_workload_per_cluster_strimzi.yml

- name: remove Bucketrepo per cluster
  include_tasks: remove_workload_per_cluster_bucketrepo.yml

- name: remove CRW per cluster
  include_tasks: remove_workload_per_cluster_codereadyworkspaces.yml

- name: remove Gitea per cluster
  include_tasks: remove_workload_per_cluster_gitea.yml

# Leave this as the last task in the playbook.
- name: remove_workload tasks complete
  debug:
    msg: "Remove Workload tasks completed successfully."
  when: not silent|bool
